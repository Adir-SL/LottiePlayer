<!DOCTYPE html>
<html>

<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.7.13/lottie.min.js"></script>
    <script>
        function init() {
            document.getElementById('fileInput').addEventListener('change', handleFileSelect, false);
        }

        function handleFileSelect(event) {
            const reader = new FileReader()
            reader.onload = handleFileLoad;
            reader.readAsText(event.target.files[0])
        }

        function handleFileLoad(event) {
            console.log(event);
            document.getElementById('fileContent').textContent = event.target.result;

            loadAnim();

        }

        function loadAnim() {
            document.getElementById('lottie').innerHTML = '';
            const animationData = JSON.parse(document.getElementById('fileContent').textContent);
            bodymovin.loadAnimation({
                container: document.getElementById('lottie'),
                animationData: animationData,
                renderer: 'svg',
                loop: true,
                autoplay: true
            });
        }
    </script>
</head>

<body onload="init()">
    <input id="fileInput" type="file" name="file" />
    <pre id="fileContent"></pre>
    <div id="lottie"></div>

</body>

</html>